{"ast":null,"code":"var _jsxFileName = \"/Users/ignaciomacedo/Documents/react22/desafio/src/App.js\";\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { Service } from './Service';\nimport NavBar from './componets/navBar';\nimport Table from './componets/table';\nimport AddTenant from './componets/addTenant';\n\nfunction App() {\n  const [tenants, setTenants] = useState([]);\n  const [copyTenants, setCopyTenants] = useState([]);\n  const [disabledBtnAddTenant, setDisabledBtnAddTenant] = useState(true);\n  const [messageValidateName, setMessageValidateName] = useState('');\n  const [messageValidateLeaseEndDate, setMessageValidateLeaseEndDate] = useState('');\n  useEffect(() => {\n    Service.getTenants().then(param => {\n      setTenants(param);\n      setCopyTenants(param);\n    }).catch(error => {\n      console.log(\"Error: \" + error);\n    });\n  }, []);\n\n  function handleAllTenants() {\n    setCopyTenants([...tenants]);\n  }\n\n  function handlePaymentLate() {\n    let tnts = [...tenants];\n    let paymentLate = tnts.filter(x => x.paymentStatus === 'LATE');\n    setCopyTenants([...paymentLate]);\n  }\n\n  function handleLeaseEndsLessAMonth() {\n    let tnts = [...tenants];\n    let today = new Date();\n    let leaseEnds = tnts.filter(x => new Date(x.leaseEndDate) >= today);\n    leaseEnds = leaseEnds.filter(x => (new Date(x.leaseEndDate).getTime() - today.getTime()) / (1000 * 60 * 60 * 24) <= 30);\n    setCopyTenants([...leaseEnds]);\n  }\n\n  function validateTenantName(e) {\n    if (e.target.value.length <= 25) {\n      setDisabledBtnAddTenant(false);\n      setMessageValidateName('');\n    } else {\n      setDisabledBtnAddTenant(true);\n      setMessageValidateName('The name entered is too long');\n    }\n  }\n\n  function sortByName() {\n    let tnts = [...tenants];\n    let sorted = tnts.sort((a, b) => {\n      var nameA = a.name;\n      var nameB = b.name;\n\n      if (nameA < nameB) {\n        return -1;\n      }\n\n      if (nameA > nameB) {\n        return 1;\n      }\n\n      return 0;\n    });\n    setCopyTenants([...sorted]);\n  }\n\n  function sortByPaymentStatus() {\n    let tnts = [...tenants];\n    let sorted = tnts.sort((a, b) => {\n      var nameA = a.paymentStatus;\n      var nameB = b.paymentStatus;\n\n      if (nameA < nameB) {\n        return -1;\n      }\n\n      if (nameA > nameB) {\n        return 1;\n      }\n\n      return 0;\n    });\n    setCopyTenants([...sorted]);\n  }\n\n  function sortByLeaseEnDate() {\n    let tnts = [...tenants];\n    let sorted = tnts.sort((a, b) => {\n      var dateA = a.leaseEndDate;\n      var dateB = b.leaseEndDate;\n\n      if (dateA < dateB) {\n        return -1;\n      }\n\n      if (dateA > dateB) {\n        return 1;\n      }\n\n      return 0;\n    });\n    setCopyTenants([...sorted]);\n  }\n\n  function validateLeaseEndDate(e) {\n    if (!/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/.test(e.target.value)) {\n      if (e.target.value.length === 0) {\n        setDisabledBtnAddTenant(false);\n        setMessageValidateLeaseEndDate('');\n      } else {\n        setDisabledBtnAddTenant(true);\n        setMessageValidateLeaseEndDate('Enter the date in MM/DD/YYYY format');\n      }\n    } else {\n      let date = e.target.value.split(\"/\");\n      let today = new Date();\n\n      if (date[0] >= 1 && date[0] <= 31 && date[1] >= 1 && date[1] <= 12 && date[2] >= 1990 && date[0] <= 2050) {\n        if (today.getTime() < new Date(e.target.value).getTime()) {\n          setDisabledBtnAddTenant(false);\n          setMessageValidateLeaseEndDate('');\n        } else {\n          setDisabledBtnAddTenant(true);\n          setMessageValidateLeaseEndDate('The date must be higher than today');\n        }\n      } else {\n        setDisabledBtnAddTenant(true);\n        setMessageValidateLeaseEndDate('Incorrect date');\n      }\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, \"Tenants\"), /*#__PURE__*/React.createElement(NavBar, {\n    onAllTenants: handleAllTenants,\n    onPaymentLate: handlePaymentLate,\n    onLeaseEndsLessAMonth: handleLeaseEndsLessAMonth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    copyTenants: copyTenants,\n    onByName: sortByName,\n    onPaymentStatus: sortByPaymentStatus,\n    onByLeaseEnDate: sortByLeaseEnDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(AddTenant, {\n    onValidateName: validateTenantName,\n    onValidateLeaseEndDate: validateLeaseEndDate,\n    disabledBtnAddTenant: disabledBtnAddTenant,\n    messageValidateName: messageValidateName,\n    messageValidateLeaseEndDate: messageValidateLeaseEndDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/ignaciomacedo/Documents/react22/desafio/src/App.js"],"names":["React","useEffect","useState","Service","NavBar","Table","AddTenant","App","tenants","setTenants","copyTenants","setCopyTenants","disabledBtnAddTenant","setDisabledBtnAddTenant","messageValidateName","setMessageValidateName","messageValidateLeaseEndDate","setMessageValidateLeaseEndDate","getTenants","then","param","catch","error","console","log","handleAllTenants","handlePaymentLate","tnts","paymentLate","filter","x","paymentStatus","handleLeaseEndsLessAMonth","today","Date","leaseEnds","leaseEndDate","getTime","validateTenantName","e","target","value","length","sortByName","sorted","sort","a","b","nameA","name","nameB","sortByPaymentStatus","sortByLeaseEnDate","dateA","dateB","validateLeaseEndDate","test","date","split"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;;AAEA,SAASC,GAAT,GAAe;AAEb,QAAM,CAACC,OAAD,EAASC,UAAT,IAAuBP,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACQ,WAAD,EAAaC,cAAb,IAA+BT,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM,CAACU,oBAAD,EAAsBC,uBAAtB,IAAiDX,QAAQ,CAAC,IAAD,CAA/D;AACA,QAAM,CAACY,mBAAD,EAAqBC,sBAArB,IAA+Cb,QAAQ,CAAC,EAAD,CAA7D;AACA,QAAM,CAACc,2BAAD,EAA6BC,8BAA7B,IAA+Df,QAAQ,CAAC,EAAD,CAA7E;AAEAD,EAAAA,SAAS,CAAC,MAAI;AACZE,IAAAA,OAAO,CAACe,UAAR,GAAqBC,IAArB,CAA2BC,KAAD,IAAW;AACnCX,MAAAA,UAAU,CAACW,KAAD,CAAV;AACAT,MAAAA,cAAc,CAACS,KAAD,CAAd;AACD,KAHD,EAGGC,KAHH,CAGUC,KAAD,IAAW;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAUF,KAAtB;AACD,KALD;AAMD,GAPQ,EAOP,EAPO,CAAT;;AASA,WAASG,gBAAT,GAA2B;AACzBd,IAAAA,cAAc,CAAC,CAAC,GAAGH,OAAJ,CAAD,CAAd;AACD;;AAED,WAASkB,iBAAT,GAA4B;AAC1B,QAAIC,IAAI,GAAG,CAAC,GAAGnB,OAAJ,CAAX;AACA,QAAIoB,WAAW,GAAGD,IAAI,CAACE,MAAL,CAAYC,CAAC,IAAIA,CAAC,CAACC,aAAF,KAAoB,MAArC,CAAlB;AAEApB,IAAAA,cAAc,CAAC,CAAC,GAAGiB,WAAJ,CAAD,CAAd;AACD;;AAED,WAASI,yBAAT,GAAoC;AAClC,QAAIL,IAAI,GAAG,CAAC,GAAGnB,OAAJ,CAAX;AACA,QAAIyB,KAAK,GAAG,IAAIC,IAAJ,EAAZ;AACA,QAAIC,SAAS,GAAGR,IAAI,CAACE,MAAL,CAAYC,CAAC,IAAI,IAAII,IAAJ,CAASJ,CAAC,CAACM,YAAX,KAA4BH,KAA7C,CAAhB;AAEAE,IAAAA,SAAS,GAAGA,SAAS,CAACN,MAAV,CACVC,CAAC,IAAK,CAAC,IAAII,IAAJ,CAASJ,CAAC,CAACM,YAAX,EAAyBC,OAAzB,KAAqCJ,KAAK,CAACI,OAAN,EAAtC,KAAwD,OAAK,EAAL,GAAQ,EAAR,GAAW,EAAnE,CAAD,IAA4E,EADvE,CAAZ;AAIA1B,IAAAA,cAAc,CAAC,CAAC,GAAGwB,SAAJ,CAAD,CAAd;AACD;;AAED,WAASG,kBAAT,CAA4BC,CAA5B,EAA8B;AAC5B,QAAGA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,MAAf,IAAyB,EAA5B,EAA+B;AAC7B7B,MAAAA,uBAAuB,CAAC,KAAD,CAAvB;AACAE,MAAAA,sBAAsB,CAAC,EAAD,CAAtB;AACD,KAHD,MAGK;AACHF,MAAAA,uBAAuB,CAAC,IAAD,CAAvB;AACAE,MAAAA,sBAAsB,CAAC,8BAAD,CAAtB;AACD;AACF;;AAED,WAAS4B,UAAT,GAAqB;AACnB,QAAIhB,IAAI,GAAG,CAAC,GAAGnB,OAAJ,CAAX;AACA,QAAIoC,MAAM,GAAGjB,IAAI,CAACkB,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAS;AAC9B,UAAIC,KAAK,GAAGF,CAAC,CAACG,IAAd;AACA,UAAIC,KAAK,GAAGH,CAAC,CAACE,IAAd;;AACA,UAAID,KAAK,GAAGE,KAAZ,EAAmB;AACjB,eAAO,CAAC,CAAR;AACD;;AACD,UAAIF,KAAK,GAAGE,KAAZ,EAAmB;AACjB,eAAO,CAAP;AACD;;AACD,aAAO,CAAP;AACD,KAVY,CAAb;AAYAvC,IAAAA,cAAc,CAAC,CAAC,GAAGiC,MAAJ,CAAD,CAAd;AACD;;AAED,WAASO,mBAAT,GAA8B;AAC5B,QAAIxB,IAAI,GAAG,CAAC,GAAGnB,OAAJ,CAAX;AACA,QAAIoC,MAAM,GAAGjB,IAAI,CAACkB,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAS;AAC9B,UAAIC,KAAK,GAAGF,CAAC,CAACf,aAAd;AACA,UAAImB,KAAK,GAAGH,CAAC,CAAChB,aAAd;;AACA,UAAIiB,KAAK,GAAGE,KAAZ,EAAmB;AACjB,eAAO,CAAC,CAAR;AACD;;AACD,UAAIF,KAAK,GAAGE,KAAZ,EAAmB;AACjB,eAAO,CAAP;AACD;;AACD,aAAO,CAAP;AACD,KAVY,CAAb;AAYAvC,IAAAA,cAAc,CAAC,CAAC,GAAGiC,MAAJ,CAAD,CAAd;AACD;;AAED,WAASQ,iBAAT,GAA4B;AAC1B,QAAIzB,IAAI,GAAG,CAAC,GAAGnB,OAAJ,CAAX;AACA,QAAIoC,MAAM,GAAGjB,IAAI,CAACkB,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAS;AAC9B,UAAIM,KAAK,GAAGP,CAAC,CAACV,YAAd;AACA,UAAIkB,KAAK,GAAGP,CAAC,CAACX,YAAd;;AACA,UAAIiB,KAAK,GAAGC,KAAZ,EAAmB;AACjB,eAAO,CAAC,CAAR;AACD;;AACD,UAAID,KAAK,GAAGC,KAAZ,EAAmB;AACjB,eAAO,CAAP;AACD;;AACD,aAAO,CAAP;AACD,KAVY,CAAb;AAYA3C,IAAAA,cAAc,CAAC,CAAC,GAAGiC,MAAJ,CAAD,CAAd;AACD;;AAED,WAASW,oBAAT,CAA8BhB,CAA9B,EAAgC;AAC7B,QAAG,CAAC,4BAA4BiB,IAA5B,CAAiCjB,CAAC,CAACC,MAAF,CAASC,KAA1C,CAAJ,EAAqD;AACpD,UAAGF,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,MAAf,KAA0B,CAA7B,EAA+B;AAC7B7B,QAAAA,uBAAuB,CAAC,KAAD,CAAvB;AACAI,QAAAA,8BAA8B,CAAC,EAAD,CAA9B;AACD,OAHD,MAGK;AACHJ,QAAAA,uBAAuB,CAAC,IAAD,CAAvB;AACAI,QAAAA,8BAA8B,CAAC,qCAAD,CAA9B;AACD;AACF,KARA,MAQI;AACH,UAAIwC,IAAI,GAAGlB,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeiB,KAAf,CAAqB,GAArB,CAAX;AACA,UAAIzB,KAAK,GAAG,IAAIC,IAAJ,EAAZ;;AACA,UAAIuB,IAAI,CAAC,CAAD,CAAJ,IAAW,CAAX,IAAgBA,IAAI,CAAC,CAAD,CAAJ,IAAW,EAA5B,IAAoCA,IAAI,CAAC,CAAD,CAAJ,IAAW,CAAX,IAAgBA,IAAI,CAAC,CAAD,CAAJ,IAAW,EAA/D,IAAuEA,IAAI,CAAC,CAAD,CAAJ,IAAW,IAAX,IAAmBA,IAAI,CAAC,CAAD,CAAJ,IAAW,IAAxG,EAA8G;AAC5G,YAAGxB,KAAK,CAACI,OAAN,KAAkB,IAAIH,IAAJ,CAASK,CAAC,CAACC,MAAF,CAASC,KAAlB,EAAyBJ,OAAzB,EAArB,EAAwD;AACtDxB,UAAAA,uBAAuB,CAAC,KAAD,CAAvB;AACAI,UAAAA,8BAA8B,CAAC,EAAD,CAA9B;AACD,SAHD,MAGK;AACHJ,UAAAA,uBAAuB,CAAC,IAAD,CAAvB;AACAI,UAAAA,8BAA8B,CAAC,oCAAD,CAA9B;AACD;AACF,OARD,MAQK;AACHJ,QAAAA,uBAAuB,CAAC,IAAD,CAAvB;AACAI,QAAAA,8BAA8B,CAAC,gBAAD,CAA9B;AACD;AACF;AACF;;AAED,sBACI,uDACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,YAAY,EAAEQ,gBAAtB;AAAwC,IAAA,aAAa,EAAEC,iBAAvD;AAA0E,IAAA,qBAAqB,EAAEM,yBAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,KAAD;AAAO,IAAA,WAAW,EAAEtB,WAApB;AAAiC,IAAA,QAAQ,EAAEiC,UAA3C;AAAuD,IAAA,eAAe,EAAEQ,mBAAxE;AAA6F,IAAA,eAAe,EAAEC,iBAA9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,eAOE,oBAAC,SAAD;AAAW,IAAA,cAAc,EAAEd,kBAA3B;AAA+C,IAAA,sBAAsB,EAAEiB,oBAAvE;AAA6F,IAAA,oBAAoB,EAAE3C,oBAAnH;AAAyI,IAAA,mBAAmB,EAAEE,mBAA9J;AAAmL,IAAA,2BAA2B,EAAEE,2BAAhN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADJ;AAaD;;AAED,eAAeT,GAAf","sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { Service } from './Service';\nimport NavBar from './componets/navBar';\nimport Table from './componets/table';\nimport AddTenant from './componets/addTenant';\n\nfunction App() {\n\n  const [tenants,setTenants] = useState([]);\n  const [copyTenants,setCopyTenants] = useState([]);\n  const [disabledBtnAddTenant,setDisabledBtnAddTenant] = useState(true);\n  const [messageValidateName,setMessageValidateName] = useState('');\n  const [messageValidateLeaseEndDate,setMessageValidateLeaseEndDate] = useState('');\n\n  useEffect(()=>{\n    Service.getTenants().then((param) => {\n      setTenants(param);\n      setCopyTenants(param);\n    }).catch((error) => {\n      console.log(\"Error: \"+error);\n    })\n  },[]);\n\n  function handleAllTenants(){\n    setCopyTenants([...tenants]);\n  }\n\n  function handlePaymentLate(){\n    let tnts = [...tenants];\n    let paymentLate = tnts.filter(x => x.paymentStatus === 'LATE');\n\n    setCopyTenants([...paymentLate]);\n  }\n\n  function handleLeaseEndsLessAMonth(){\n    let tnts = [...tenants];\n    let today = new Date();\n    let leaseEnds = tnts.filter(x => new Date(x.leaseEndDate) >= today);\n   \n    leaseEnds = leaseEnds.filter( \n      x => ((new Date(x.leaseEndDate).getTime() - today.getTime())/(1000*60*60*24)) <= 30\n      );\n    \n    setCopyTenants([...leaseEnds]);\n  }\n\n  function validateTenantName(e){\n    if(e.target.value.length <= 25){\n      setDisabledBtnAddTenant(false);\n      setMessageValidateName('');\n    }else{\n      setDisabledBtnAddTenant(true);\n      setMessageValidateName('The name entered is too long');\n    }\n  }\n\n  function sortByName(){\n    let tnts = [...tenants];\n    let sorted = tnts.sort((a, b) =>{\n      var nameA = a.name;\n      var nameB = b.name;\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n      return 0;\n    });\n\n    setCopyTenants([...sorted]);\n  }\n\n  function sortByPaymentStatus(){\n    let tnts = [...tenants];\n    let sorted = tnts.sort((a, b) =>{\n      var nameA = a.paymentStatus;\n      var nameB = b.paymentStatus;\n      if (nameA < nameB) {\n        return -1;\n      }\n      if (nameA > nameB) {\n        return 1;\n      }\n      return 0;\n    });\n\n    setCopyTenants([...sorted]);\n  }\n\n  function sortByLeaseEnDate(){\n    let tnts = [...tenants];\n    let sorted = tnts.sort((a, b) =>{\n      var dateA = a.leaseEndDate;\n      var dateB = b.leaseEndDate;\n      if (dateA < dateB) {\n        return -1;\n      }\n      if (dateA > dateB) {\n        return 1;\n      }\n      return 0;\n    });\n\n    setCopyTenants([...sorted]);\n  }\n\n  function validateLeaseEndDate(e){\n     if(!/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/.test(e.target.value)){\n      if(e.target.value.length === 0){\n        setDisabledBtnAddTenant(false);\n        setMessageValidateLeaseEndDate('');\n      }else{\n        setDisabledBtnAddTenant(true);\n        setMessageValidateLeaseEndDate('Enter the date in MM/DD/YYYY format');\n      }\n    }else{\n      let date = e.target.value.split(\"/\");\n      let today = new Date();\n      if((date[0] >= 1 && date[0] <= 31) && (date[1] >= 1 && date[1] <= 12) && (date[2] >= 1990 && date[0] <= 2050)){\n        if(today.getTime() < new Date(e.target.value).getTime()){\n          setDisabledBtnAddTenant(false);\n          setMessageValidateLeaseEndDate('');\n        }else{\n          setDisabledBtnAddTenant(true);\n          setMessageValidateLeaseEndDate('The date must be higher than today');\n        }\n      }else{\n        setDisabledBtnAddTenant(true);\n        setMessageValidateLeaseEndDate('Incorrect date');\n      }\n    }\n  }\n\n  return (\n      <>\n        <div className=\"container\">\n          <h1>Tenants</h1>\n          <NavBar onAllTenants={handleAllTenants} onPaymentLate={handlePaymentLate} onLeaseEndsLessAMonth={handleLeaseEndsLessAMonth}/>\n          <Table copyTenants={copyTenants} onByName={sortByName} onPaymentStatus={sortByPaymentStatus} onByLeaseEnDate={sortByLeaseEnDate}/>\n        </div>\n        \n        <AddTenant onValidateName={validateTenantName} onValidateLeaseEndDate={validateLeaseEndDate} disabledBtnAddTenant={disabledBtnAddTenant} messageValidateName={messageValidateName} messageValidateLeaseEndDate={messageValidateLeaseEndDate} />\n        \n        \n      </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}